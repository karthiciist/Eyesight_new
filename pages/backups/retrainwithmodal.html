<!DOCTYPE html>
<html lang="en" class="js">

<head>
  <link rel="stylesheet" href="C:\Users\ET437GL\Desktop\ahmed\cropperjs-master\cropperjs-master\dist\cropper.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="Dashboard">
  <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
  <title>Welcome to EYESIGHT</title>

  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Bootstrap core CSS -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <!--external css-->
  <link href="lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="css/zabuto_calendar.css">
  <link rel="stylesheet" type="text/css" href="lib/gritter/css/jquery.gritter.css" />
  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet">
  <link href="css/style-responsive.css" rel="stylesheet">
  <script src="lib/chart-master/Chart.js"></script>

  <style>
    table, th, td {
      border: solid 1px #CCC;
    }

    table {
      width: 100%;
    }

    th, td {
      padding: 0;
      text-align: center;
    }
  </style>
</head>

<body>

  <script src="C:\Users\ET437GL\Desktop\ahmed\cropperjs-master\cropperjs-master\dist\cropper.js"></script>
	<!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> -->
  <script src="canvas2image.js"></script>
  
  <section id="container">
 
    <header class="header black-bg">
      <div class="sidebar-toggle-box">
        <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
      </div>
      <!--logo start-->
      <a href="dashboard.html" class="logo"><b>EY<span>ESIGHT</span></b></a>
      <!--logo end-->
      <div class="top-menu">
        <ul class="nav pull-right top-menu">
          <li><a class="logout" href="/eyesight">Logout</a></li>
        </ul>
      </div>
    </header>
    <aside>
      <div id="sidebar" class="nav-collapse ">
        <ul class="sidebar-menu" id="nav-accordion">
          <li class="mt">
            <a href="dashboard.html">
              <i class="fa fa-dashboard"></i>
              <span>Dashboard</span>
              </a>
          </li>
          <li class="sub-menu">
            <a href="trainedmodels.html">
              <i class="fa fa-th"></i>
              <span>Trained models</span>
              </a>
          </li>
          <li class="sub-menu">
            <a class="active" href="createmodel.html">
              <i class="fa fa-th"></i>
              <span>Create a model</span>
              </a>
          </li>
          <li class="sub-menu">
            <a href="javascript:;">
              <i class="fa fa-book"></i>
              <span>Help center</span>
              </a>
          </li>
          <li class="sub-menu">
            <a href="javascript:;">
              <i class="fa fa-cogs"></i>
              <span>Settings</span>
              </a>
          </li>
      </div>
    </aside>

    <section id="main-content">
      <section class="wrapper">
        <div class="row">
          <div class="col-lg-9 main-chart">
            <!--CUSTOM CHART START -->
            <div class="row mt">
              <!-- SERVER STATUS PANELS -->
              
            </div>

            <!-- <center>
              <div>
              <form method="post" enctype="multipart/form-data">
                <input id="inputId" name="photo" type="file" accept="image/*" onchange="document.getElementById('output').src = window.URL.createObjectURL(this.files[0]), updateImageDisplay()">
              </form>
            </div>
            </center> -->

            <center>

              <div class="box">
                <form method="post" enctype="multipart/form-data">
                  <input type="file" name="filename[]" id="inputId" class="inputfile inputfile-6" data-multiple-caption="{count} files selected" multiple accept="image/*" onchange="document.getElementById('output').src = window.URL.createObjectURL(this.files[0]), resize()">
                  <label for="inputId"><span></span> <strong><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> Choose a file&hellip;</strong></label>  
                </form>
              </div>
            </center>

            <script src="custom-file-input.js"></script>

            <!-- <form class="example" action="/action_page.php">
              <input type="text" placeholder="Search.." name="search">
              <button type="submit"><i class="fa fa-search"></i></button>
            </form> -->




            <!-- <center>
              <div>
              <img id="output">
            </div>
            </center> -->

            <center>
              <button id="btnCrop" type="button" style="width:100px" class="btn-consumenow">Crop & Scan</button>
              <button id="btnCreateModel" type="button" style="width:100px" class="btn-consumenow" onclick="getnewtable()">Retrain model</button>
            </center>
            
            <!-- <center>
              <div>
                <input type="text" id="lable" style="width:300px" placeholder="Enter label"/>
                <button id="btnCrop" type="button" style="width:100px">Crop & Scan</button>
              </div>
            </center> -->

            <!-- <center>
              <div style="margin-top:5px">
                <input type="text" id="modelname" style="width:300px" placeholder="Enter model name"/>
                <button id="btnCreateModel" type="button" onclick="getnewtable()" style="width:200px" class="btn-retrainnow">Retrain model</button>
              </div>
            </center> -->

            <!-- <center>
              <div style="margin: 5px;">
                <img id="cropped">
              </div>
            </center> -->

            <center>
              <div>
              <img id="output">
            </div>
            </center>

            <div style="padding-top: 10px; font-family: Arial, Helvetica, sans-serif; display: none;">
                  <table id="myTable" style="width:100%" align="center">
                      <tr>
                          <th COLSPAN="13">
                              <h3 style="margin-top: 10px;">Results</h3>
                          </th>
                      </tr>
                      <tr>
                          <th>S.no</th>
                          <th>x-axis</th>
                          <th>y-axis</th>
                          <th>width</th>
                          <th>height</th>
                          <th>rotate</th>
                          <th>scaleX</th>
                          <th>scaleY</th>
                          <th>full width</th>
                          <th>full height</th>
                          <th>Lable</th>
                          <th>Text from OCR</th>
                          <th></th>
                      </tr>
                  </table>
            </div>
          </div>
          <div class="col-lg-3 ds">
            <!-- <h3 style="text-align: center;">Captured parameters</h4> -->
            <!-- <div style="height:40px"></div> -->
            <div style="padding-top: 2px; font-family: Arial, Helvetica, sans-serif">
              <table id="myTable1" style="width:100%" align="center">
                <tr>
                  <th COLSPAN="3" style="text-align:center;">
                      <h3 style="text-align:center; margin-top: 10px;">Captured parameters</h3>
                  </th>
                  </tr>
                  <tr>
                      <th style="text-align:center;">Lable</th>
                      <th style="text-align:center;">Text from OCR</th>
                      <th></th>
                  </tr>
              </table>
          </div>
          </div>
          <!-- /col-lg-3 -->
        </div>
        <!-- /row -->
      </section>
    </section>

     <!-- Modal -->
     <div class="modal fade" id="myModal" role="dialog">
      <div class="modal-dialog">
      
        <!-- Modal content-->
        <div class="modal-content">


          <div class="modal-header" style="padding:10px 10px;">
            <button type="button" class="close" data-dismiss="modal" id="closebtn">&times;</button>
            <center><h4 style="color: white;">Enter below details</h4></center>
          </div>


          <div class="modal-body" style="padding:10px 50px;">
            <div><h5 style="font-weight: bold;">Cropped image :</h5></div>
            <center><div style="margin: 10px;"><img id="croppedimg" src="logo.png"></div></center>
            <div><h5 style="font-weight: bold; margin-top: 20px;">Text found in this image :</h5></div>
            <center><div style="font-weight:bolder; font-style: italic;" ><p id="foundtxt">Extracting text...</p></div></center>
            <form role="form">
              <div class="form-group" style="margin-top: 15px;">
                <input type="text" class="form-control" id="labeltxt" placeholder="Enter label for this text">
              </div>
              <div class="checkbox" id="headerdiv">
                <label><input type="checkbox" value="" onchange="showheaderoptions(this)" id="headercheckbox">This is header attribute</label>
              </div>
              <div id="headeroptions">
                  <label for="hposition" style="margin-right: 5px; margin-left: 50px;">This header text can be found at which part of the image ?</label>
                  <select id="hposition">
                  <option value="top">Top</option>
                  <option value="middle">Middle</option>
                  <option value="bottom">Bottom</option>
                  </select>

                  <label for="htol" style="margin-right: 5px; margin-left: 50px;">Select the tolerence error percentage</label>
                  <select id="htol">
                  <option value="10">10 %</option>
                  <option value="20">20 %</option>
                  <option value="30">30 %</option>
                  <option value="40">40 %</option>
                  <option value="50">50 %</option>
                  </select>
              </div>

              <div class="checkbox" id="footerdiv">
                <label><input type="checkbox" value="" onchange="showfooteroptions(this)" id="footercheckbox">This is footer attribute</label>
              </div>
              <div id="footeroptions">
                  <label for="fposition" style="margin-right: 5px; margin-left: 50px;">This footer text can be found at which part of the image ?</label>
                  <select id="fposition">
                  <option value="top">Top</option>
                  <option value="middle">Middle</option>
                  <option value="bottom">Bottom</option>
                  </select>

                  <label for="ftol" style="margin-right: 5px; margin-left: 50px;">Select the tolerence error percentage</label>
                  <select id="ftol">
                  <option value="10">10 %</option>
                  <option value="20">20 %</option>
                  <option value="30">30 %</option>
                  <option value="40">40 %</option>
                  <option value="50">50 %</option>
                  </select>
              </div>
            </form>
            <div>
              <center><button class="btn-cardsave" id="savedata" >Save</button></center>
            </div>

            <!-- <center>
              <div class="btn-toolbar" style="padding-left: 15px; align-self: center;">
                  <button class="btn btn-primary" id="changeimg">Save</button>
                  <button class="btn btn-primary" id="cancel">Cancel</button>
                </div>
            </center> -->
            
          </div>


          <!-- <div class="modal-footer">
            <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
            <p>Not a member? <a href="#">Sign Up</a></p>
            <p>Forgot <a href="#">Password?</a></p>
          </div> -->


        </div>
        
      </div>
    </div>

  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script class="include" type="text/javascript" src="lib/jquery.dcjqaccordion.2.7.js"></script>
  <script src="lib/jquery.scrollTo.min.js"></script>
  <script src="lib/jquery.nicescroll.js" type="text/javascript"></script>
  <script src="lib/jquery.sparkline.js"></script>
  <!--common script for all pages-->
  <script src="lib/common-scripts.js"></script>
  <script type="text/javascript" src="lib/gritter/js/jquery.gritter.js"></script>
  <script type="text/javascript" src="lib/gritter-conf.js"></script>
  <!--script for this page-->
  <script src="lib/sparkline-chart.js"></script>
  <script src="lib/zabuto_calendar.js"></script>
  <script type="application/javascript">

    var count = 2;
		var xaxis;
		var yaxis;
		var width;
		var heigth;
		var rotate;
		var scaleX;
		var scaleY;
		var fullheight;
		var fullwidth;

		var originalwidth;
		var originalheight;

    var modelname=localStorage.getItem("modelname");
    
    // alert(modelname);


		getimagedimensions(modelname);

		function getimagedimensions(modelname){

			if (modelname == "") {
                alert("Model name not found");
            }
            else {

            	var http = new XMLHttpRequest();
				var url = 'http://localhost:3000/getimagedimensions';
				var params = 'modelname=' + modelname;
				http.open('POST', url, true);

				http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

				http.onreadystatechange = function() {
				    if(http.readyState == 4 && http.status == 200) {
				        // alert(http.status);
				        if (http.status == 200){
				        	// console.log(http.response);
				        	var array = JSON.parse(http.response);
				        	originalwidth = array[0];
				        	originalheight = array[1];
				        	console.log(originalwidth + " " + originalheight);
				        } else {
				        	alert("failed to get original image size")
				        }
				    }
				}
				http.send(params);
            }
		}


		function updateImageDisplay(){

			var Cropper = window.Cropper;

			// var image = document.getElementById('output');

			var image = new Image();

			image.width = originalwidth;
			image.height = originalheight;

			image = document.getElementById('output');

			var cropper = new Cropper(image, {
				crop(event) {
					console.log(image.width);
					console.log(image.height);
					cropper.width = originalwidth;
					cropper.height = originalheight;
					console.log(cropper.width);
					console.log(cropper.height);
					xax = cropper.getData();
					console.log(xax);
				  xaxis = event.detail.x;
				  yaxis = event.detail.y;
				  width = event.detail.width;
				  height = event.detail.height;
				  rotate = event.detail.rotate;
				  scaleX = event.detail.scaleX;
				  scaleY = event.detail.scaleY;
				  // console.log(xaxis + " " + yaxis);
				}
			});

			document.getElementById("btnCrop").onclick = function (event) {
          console.log(image.width + " " + image.height);
          showmodal(cropper, originalheight, originalwidth)
	        // updateTable(cropper, originalheight, originalwidth);
	      	}
		}

		function updateTable(cropper, fullheight, fullwidth, label, foundstr, header, hposition, htol, footer, fposition, ftol){

			createnewrow(count);
              
      var myTable1 = document.getElementById('myTable1');
      myTable1.rows[count].cells[0].innerHTML = label;

      var myTable = document.getElementById('myTable');
      myTable.rows[count].cells[12].innerHTML = header;
      myTable.rows[count].cells[13].innerHTML = hposition;
      myTable.rows[count].cells[14].innerHTML = htol;
      myTable.rows[count].cells[15].innerHTML = footer;
      myTable.rows[count].cells[16].innerHTML = fposition;
      myTable.rows[count].cells[17].innerHTML = ftol;
      myTable.rows[count].cells[10].innerHTML = label;

      xaxis = Math.round(xaxis);
      yaxis = Math.round(yaxis);
      width = Math.round(width);
      height = Math.round(height);
      myTable.rows[count].cells[1].innerHTML = xaxis;
      myTable.rows[count].cells[2].innerHTML = yaxis;
      myTable.rows[count].cells[3].innerHTML = width;
      myTable.rows[count].cells[4].innerHTML = height;
      myTable.rows[count].cells[5].innerHTML = rotate;
      myTable.rows[count].cells[6].innerHTML = scaleX;
      myTable.rows[count].cells[7].innerHTML = scaleY;
      myTable.rows[count].cells[8].innerHTML = fullwidth;
      myTable.rows[count].cells[9].innerHTML = fullheight;

      // var imageData = cropper.getCroppedCanvas();

      // var croppedimg = imageData.toDataURL("image/png");

      // document.getElementById('cropped').src = croppedimg;

      // const imgFile = document.getElementById('cropped').files;

      // var xhr = new XMLHttpRequest();

      // xhr.open('POST', 'http://localhost:3000/extracttext', true);
      // xhr.setRequestHeader('Content-Type', "application/json;charset=UTF-8");
      // xhr.send(JSON.stringify({ "thumbnail": croppedimg}));
      // xhr.onreadystatechange = function(){
      //       if(xhr.readyState != 4) return;
      //       if(xhr.status != 200){
      //           console.log("Status: " + xhr.status);
      //       }else{
      //           console.log(xhr.responseText);
      //           response = xhr.responseText;
      //           str = response.substring(response.indexOf("string\":"));
      //           str1 = str.substring(str.indexOf(":")+3);
      //           str2 = str1.slice(0, -4);
      //           console.log(str2);
      //           myTable1.rows[count-1].cells[1].innerHTML = str2;
      //           myTable.rows[count-1].cells[11].innerHTML = str2;
      //       }
      //   };

      // count = count + 1;
      // // console.log(count);
      // document.getElementById('lable').value = "";
      myTable1.rows[count].cells[1].innerHTML = foundstr;
      myTable.rows[count].cells[11].innerHTML = foundstr;
      count = count + 1;	
		}

		function getnewtable(){

			var myTab = document.getElementById('myTable');

			for (i = 2; i < myTab.rows.length; i++) {
	            var objCells = myTab.rows.item(i).cells;

	            var sno = objCells.item(0).innerHTML;
	            var xaxisl = objCells.item(1).innerHTML;
	            var yaxisl = objCells.item(2).innerHTML;
	            var widthl = objCells.item(3).innerHTML;
	            var heightl = objCells.item(4).innerHTML;
	            var rotatel = objCells.item(5).innerHTML;
	            var scalexl = objCells.item(6).innerHTML;
	            var scaleyl = objCells.item(7).innerHTML;
	            var fullwidthl = objCells.item(8).innerHTML;
	            var fullheightl = objCells.item(9).innerHTML;
	            var labell = objCells.item(10).innerHTML;
	            var textl = objCells.item(11).innerHTML;

                console.log(xaxisl + " " + yaxisl + " " + widthl + " " + heightl + " " + labell);

                sendnewdata(labell, xaxisl, yaxisl, widthl, heightl);
	           
	        }
		}



		function resize(){

			//define the width to resize e.g 600px
			var resize_width = originalwidth;//without px

			//get the image selected
			var item = document.querySelector('#inputId').files[0];

			//create a FileReader
			var reader = new FileReader();

			//image turned to base64-encoded Data URI.
			reader.readAsDataURL(item);
			reader.name = item.name;//get the image's name
			reader.size = item.size; //get the image's size
			reader.onload = function(event) {
			var img = new Image();//create a image
			img.src = event.target.result;//result is base64-encoded Data URI
			img.name = event.target.name;//set name (optional)
			img.size = event.target.size;//set size (optional)
			img.onload = function(el) {
			  var elem = document.createElement('canvas');//create a canvas

			  //scale the image to 600 (width) and keep aspect ratio
			  var scaleFactor = resize_width / el.target.width;
			  elem.width = resize_width;
			  elem.height = originalheight;

			  //draw in canvas
			  var ctx = elem.getContext('2d');
			  ctx.drawImage(el.target, 0, 0, elem.width, elem.height);

			  //get the base64-encoded Data URI from the resize image
			  var srcEncoded = ctx.canvas.toDataURL(el.target, 'image/jpeg', 0);

			  //assign it to thumb src
			  document.querySelector('#output').src = srcEncoded;

			  updateImageDisplay();

			}
			}
		}


		function sendnewdata(labelcurrent, xaxisnew, yaxisnew, widthnew, heightnew){

			var formdata = new FormData();
		    formdata.append('label', labelcurrent);
		    formdata.append('xaxis', xaxisnew);
		    formdata.append('yaxis', yaxisnew);
		    formdata.append('width', widthnew);
		    formdata.append('height', heightnew);
		    formdata.append('model', modelname);

		    fetch('http://localhost:3000/retrain', {
		    	// mode: 'no-cors',
		        method: 'POST',
		        body: formdata
	    	}).then(
			    function(response) {
			      if (response.status !== 200) {
			        console.log('Looks like there was a problem. Status Code: ' + response.status);
			        return;
			      } else if (response.status == 200) {
			      	return response.text().then(function(text) {
				      alert(text);
				    });
			      }
			    }
			  ).catch(function(err) {
			    console.log('Fetch Error :-S', err);
			 });

		}


		function createnewrow() {

      var table1 = document.getElementById("myTable1");
      var row = table1.insertRow(count);
      var cell1 = row.insertCell(0);
      var cell2 = row.insertCell(1);
      var cell3 = row.insertCell(2);

      var button = document.createElement('input');

      button.setAttribute('type', 'button');
      button.setAttribute('value', 'X');
      button.setAttribute('onclick', 'removeRow(this)');

      cell3.appendChild(button);

			var table = document.getElementById("myTable");
			var row = table.insertRow(count);
			var cell1 = row.insertCell(0);
			var cell2 = row.insertCell(1);
			var cell3 = row.insertCell(2);
			var cell4 = row.insertCell(3);
			var cell5 = row.insertCell(4);
			var cell6 = row.insertCell(5);
			var cell7 = row.insertCell(6);
			var cell8 = row.insertCell(7);
			var cell9 = row.insertCell(8);
			var cell10 = row.insertCell(9);
			var cell11 = row.insertCell(10);
			var cell12 = row.insertCell(11);
      var cell13 = row.insertCell(12);
      var cell14 = row.insertCell(13);
      var cell15 = row.insertCell(14);
      var cell16 = row.insertCell(15);
      var cell17 = row.insertCell(16);
      var cell18 = row.insertCell(17);
      var cell19 = row.insertCell(18);

      var button = document.createElement('input');

      button.setAttribute('type', 'button');
      button.setAttribute('value', 'Remove');
      button.setAttribute('onclick', 'removeRow(this)');

      cell19.appendChild(button);

			cell1.innerHTML = count - 1;
    }

    function removeRow(oButton) {

      var empTab = document.getElementById('myTable');
      empTab.deleteRow(oButton.parentNode.parentNode.rowIndex);

      var empTab1 = document.getElementById('myTable1');
      empTab1.deleteRow(oButton.parentNode.parentNode.rowIndex);

      count = count - 1;
    }


    function showmodal(cropper, fullheight, fullwidth){

      $("#myModal").modal();
      $("myModal").ready(function(){
        var imageData = cropper.getCroppedCanvas();
        var croppedimg = imageData.toDataURL("image/png");
        $("#croppedimg").attr("src", croppedimg);

        var foundstr; 
        var xhr = new XMLHttpRequest();

        xhr.open('POST', 'http://localhost:3000/extracttext', true);
        xhr.setRequestHeader('Content-Type', "application/json;charset=UTF-8");
        xhr.send(JSON.stringify({ "thumbnail": croppedimg}));
        xhr.onreadystatechange = function(){
              if(xhr.readyState != 4) return;
              if(xhr.status != 200){
                  console.log("Status: " + xhr.status);
              }else{
                  console.log(xhr.responseText);
                  response = xhr.responseText;
                  str = response.substring(response.indexOf("string\":"));
                  str1 = str.substring(str.indexOf(":")+3);
                  str2 = str1.slice(0, -4);
                  console.log(str2);
                  foundstr = str2;
                  if (str2 == ""){
                    $("p").text("Cannot extract text from this image");
                  } else {
                    $("p").text(str2);
                  }
                  
              }
        };

      });
      document.getElementById("savedata").onclick = function (event) {
        var label = $('#labeltxt').val();
        var foundstring = $("#foundtxt").html();
        var ishead;
        var isfoot;
        var selhposition;
        var selhtol;
        var selfposition;
        var selftol;
        if($("#headercheckbox").prop('checked') == true){
            ishead = true;
            selhposition = $( "#hposition option:selected" ).val();
            selhtol = $( "#htol option:selected" ).val();
        }
        if($("#footercheckbox").prop('checked') == true){
            isfoot = true;
            selfposition = $( "#fposition option:selected" ).val();
            selftol = $( "#ftol option:selected" ).val();
        }
        
        if (label == ""){
          alert("Enter a label");
        } else if (label != "") {
          // updateTable(cropper, originalheight, originalwidth);
          updateTable(cropper, fullheight, fullwidth, label, foundstring, ishead, selhposition, selhtol, isfoot, selfposition, selftol);
          $('.checkbox').prop("checked", false);
          $("input:checkbox").prop("checked", false);
          $("p").text("Extracting text...");
          $("input:text").val("");
          $("#headerdiv").css("display", "block");
          $("#footerdiv").css("display", "block");
          $("#footeroptions").css("display", "none");
          $("#headeroptions").css("display", "none");
          $('#myModal').modal('toggle');
        }
      }
    }
  
    $(document).ready(function(){
      $("#headeroptions").css("display", "none");
      $("#footeroptions").css("display", "none");
    });

    function showheaderoptions(obj) {
      if($(obj).is(":checked")){
        $("#headeroptions").css("display", "inline");
        $("#footerdiv").css("display", "none");
        $("#page-header-inner").addClass("sticky");
      }else{
        $("#headeroptions").css("display", "none");
        $("#footerdiv").css("display", "block");
      }
    }

    function showfooteroptions(obj) {
      if($(obj).is(":checked")){
        $("#footeroptions").css("display", "inline");
        $("#page-header-inner").addClass("sticky");
        $("#headerdiv").css("display", "none");
      }else{
        $("#footeroptions").css("display", "none");
        $("#headerdiv").css("display", "block");
      }
    }


    $(function(){
        $('#closebtn').click(function() {
            $('.checkbox').prop("checked", false);
            $("input:checkbox").prop("checked", false);
            $("p").text("Extracting text...");
            $("input:text").val("");
            $("#headerdiv").css("display", "block");
            $("#footerdiv").css("display", "block");
            $("#footeroptions").css("display", "none");
            $("#headeroptions").css("display", "none");
        });
    });

  </script>




</body>

</html>
